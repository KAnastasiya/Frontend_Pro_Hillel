!function(e){function t(a){if(r[a])return r[a].exports;var o=r[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=r(2),i=a(o),s={playlist:document.querySelector(".playlist"),tracksList:document.querySelectorAll("li.track"),video:document.querySelector("video"),videoMp4:document.querySelector(".video__src--mp4"),videoOgg:document.querySelector(".video__src--ogg"),videoWebm:document.querySelector(".video__src--webm"),videoOverlay:document.querySelector(".video-overlay")},n={currentTrack:"track--current",playTrack:"video-overlay--play",pauseTrack:"video-overlay--pause",showOverlayBtn:"show",showOverlayBtnAlways:"show--always"},d="data-id",c=4,l=10,v=5e3,u=1e3,y=c,p=l,m=void 0,k=void 0,_=function(){for(var e=0;e<s.tracksList.length;e++)s.tracksList[e].classList.remove(n.currentTrack);s.playlist.children[y].classList.add(n.currentTrack),h()},h=function(){var e=i.default.tracks[y];s.video.poster="server/"+e.poster;var t="server/"+e.src;s.videoMp4.src=t+".mp4",s.videoOgg.src=t+".ogg",s.videoWebm.src=t+".webm",s.video.load()},g=function(e){"pause"===e?(s.videoOverlay.classList.remove(n.playTrack),s.videoOverlay.classList.add(n.pauseTrack)):(s.videoOverlay.classList.remove(n.pauseTrack),s.videoOverlay.classList.add(n.playTrack))},f=function(){s.video.play(),g("pause")},L=function(){s.video.pause(),g("play")},O=function(){s.video.paused?f():L()},T=function(e){var t=i.default.tracks[e],r=document.createElement("p");r.className="video-overlay__text video-overlay__text--next-song",r.innerText=t.song,s.videoOverlay.appendChild(r);var a=document.createElement("span");a.innerText=t.artist,r.appendChild(a);var o=document.createElement("p");o.className="video-overlay__text video-overlay__text--timeout",o.innerText="Next track",s.videoOverlay.appendChild(o);var n=document.createElement("span");o.appendChild(n)},x=function(e){e.target.classList.contains("track")&&(y=e.target.getAttribute(d)||e.target.parentElement.getAttribute(d),_())},S=function(){var e=document.querySelectorAll(".video-overlay__text");if(e.length>0)for(var t=0;t<e.length;t++)s.videoOverlay.removeChild(e[t]);g("pause"),s.videoOverlay.classList.remove(n.showOverlayBtnAlways),s.video.addEventListener("click",E)},w=function(){var e=+y+1<s.tracksList.length?+y+1:0;y=e,g("play"),T(e),s.videoOverlay.classList.add(n.showOverlayBtnAlways),s.video.removeEventListener("click",E),k=setInterval(function(){p>0?(document.querySelector(".video-overlay__text--timeout span").innerText=" ("+p+" сек)",p-=1):(clearInterval(k),p=l,_())},u)},E=function(){O()},b=function(){document.querySelector(".video-overlay__text")?(clearInterval(k),_()):O()},q=function(){s.videoOverlay.classList.add(n.showOverlayBtn),clearTimeout(m),m=setTimeout(function(){s.videoOverlay.classList.remove(n.showOverlayBtn)},v)};_(),s.video.volume=.2,s.playlist.addEventListener("click",x),s.videoOverlay.addEventListener("click",b),s.video.addEventListener("click",E),s.video.addEventListener("mousemove",q),s.video.addEventListener("playing",S),s.video.addEventListener("ended",w)},function(e,t){e.exports={tracks:[{id:"0",artist:"Loboda",song:"Твои глаза",poster:"Loboda/your_eyes.jpg",src:"Loboda/your_eyes"},{id:"1",artist:"Shakira",song:"Chantaje",poster:"Shakira/chantaje.jpg",src:"Shakira/chantaje"},{id:"2",artist:"Shakira ft. Rihanna",song:"Can't Remember to Forget You",poster:"Shakira/can't_remember_to_forget_you.jpg",src:"Shakira/can't_remember_to_forget_you"},{id:"3",artist:"The Hardkiss",song:"Rain",poster:"The_Hardkiss/rain.jpg",src:"The_Hardkiss/rain"},{id:"4",artist:"The Hardkiss",song:"Stones",poster:"The_Hardkiss/stones.jpg",src:"The_Hardkiss/stones"}]}}]);